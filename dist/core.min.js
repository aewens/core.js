/** core.js - v0.0.3 - 2014-12-27
* Copyright (c) 2014 Mauricio Soares;
* Licensed MIT 
*/


!function(a){var b=function(){this.modules={}};b.prototype.register=function(a,b){this.modules[a]={constructor:b,instance:null}},b.prototype.moduleExist=function(a,b){return b?!a||!a.instance:!a||a.instance},b.prototype.start=function(b){var c=this.modules[b];this.moduleExist(c)||(c.instance=new c.constructor(new a.Sandbox(b)),c.instance.init&&c.instance.init())},b.prototype.stop=function(b){var c=this.modules[b];this.moduleExist(c,!0)||(c.instance.destroy&&c.instance.destroy(),c.instance=null,a.Sandbox.clearNotifications(b))},b.prototype.startAll=function(){this.xAll("start")},b.prototype.stopAll=function(){this.xAll("stop")},b.prototype.xAll=function(a){for(var b in this.modules)this.modules.hasOwnProperty(b)&&this[a](b)},a.Core=new b}(this),function(a){var b=function(a,c){console.error(b.messages[a],c)};b.messages={"!module":"There's no module called: "},a.helpers=a.helpers||{},a.helpers.Error=b}(this.Core),function(a){var b=function(a){return"[object Array]"===Object.prototype.toString.call(a)};a.helpers=a.helpers||{},a.helpers.isArray=b}(this.Core),function(a){var b=function(a){return Array.prototype.slice.call(a)};a.helpers=a.helpers||{},a.helpers.toArray=b}(this.Core),function(a){"use strict";var b={},c=function(a,c){b[a]=c},d=function(a){return b[a]||null};a.extend=c,a.getExtension=d}(this.Core),function(a,b,c){var d=function(a){this.module=a};d.notifications={},d.clearNotifications=function(a){delete d.notifications[a]},d.prototype.notify=function(a){for(var b in d.notifications){var c=d.notifications[b][a.type];c&&c.callback.call(c.context,a.data)}},d.prototype.listen=function(a){var b=c.toArray(arguments);if(!c.isArray(a))return this.addNotification.apply(this,arguments);for(var d=0,e=a.length;e>d;d+=1)b[0]=a[d],this.addNotification.apply(this,b)},d.prototype.addNotification=function(b,c,e,f){var g=d.notifications,h=!1;g[this.module]&&g[this.module][b]?f?h=!0:console.log("Theres already a notification called "+b+", you must force the rewrite"):h=!0,h&&(g[this.module]=g[this.module]||{},g[this.module][b]={callback:c,context:e||a})},d.prototype.x=function(a){return b.getExtension(a)},a.Sandbox=d}(this,this.Core,this.Core.helpers);
//# sourceMappingURL=core.min.js.map