<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>

  <script src="../dist/core.js"></script>
  <script>
<<<<<<< HEAD
    var underscore = {aMethod: function() { return true; }};
    Core.extend('_', underscore);

||||||| merged common ancestors
=======
    Core.extend('$', function() {
      return true;
    });
>>>>>>> f550fcf1eec08411f016e6d3889b9cd2660e08ca
    Core.register('tweet-list', function(sandbox) {
      return {
        init: function() {
          console.log(sandbox.x('$'));
          // sandbox.listen('new-tweet', this.handleTweet, this);
          // sandbox.listen('new-tweet', this.destroy, this, true);
          // sandbox.listen('new-tweet2', this.destroy, this);
          sandbox.listen(['new-tweet', 'new-tweet2'], this.destroy, this);
          // sandbox.listen('new-tweet2', this.handleTweet, this, true);
        },

        handleTweet: function(data) {
          console.log(this);
          console.log(data);
        },

        destroy: function() {
          console.log('destroy tweet');
        }
      };
    });

    Core.register('tweet', function(sandbox) {
      return {
        init: function() {
          setInterval(function() {
            sandbox.notify({
              type: 'new-tweet',
              data: {
                author: 'Mauricio Soares',
                text: 'Hey, this is core.js, and is really cool'
              }
            });

            sandbox.notify({
              type: 'new-tweet2',
              data: {
                author: 'Mauricio Soares',
                text: 'Hey, this is core.js, and is really cool'
              }
            });
<<<<<<< HEAD
          }, 2 * 1000 * 60);
||||||| merged common ancestors
          }, 2 * 1000);
=======
          }, 2 * 100000);
>>>>>>> f550fcf1eec08411f016e6d3889b9cd2660e08ca
        },

        destroy: function() {
          console.log('destroy search');
        }
      };
    });

    Core.start('tweet-list');

    Core.startAll();

    // setTimeout(function() {
    //   Core.stop('tweet-list');
    // }, 5000);
  </script>
</body>
</html>
