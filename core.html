<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>

  <script src="js/core.js"></script>
  <script src="js/sandbox.js"></script>
  <script>
    Core.register('tweet-list', function(sandbox) {
      return {
        init: function() {
          console.log('init tweetlist');
          sandbox.listen('new-tweet', this.handleTweet, this);
        },

        handleTweet: function(data) {
          console.log(data);
        },

        destroy: function() {
          console.log('destroy tweet');
        }
      }
    });

    Core.register('tweet', function(sandbox) {
      return {
        init: function() {
          console.log('init tweet');
          sandbox.notify({
            type: 'new-tweet',
            data: {
              author: 'Mauricio Soares',
              text: 'Hey, this is core.js, and is really cool'
            }
          });
        },

        destroy: function() {
          console.log('destroy search');
        }
      }
    });

    Core.start('tweet-list');

    Core.startAll();
  </script>
</body>
</html>